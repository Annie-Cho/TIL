# HTTP(HyperText Transfer Protocol)

- 웹 상에서 클라이언트와 서버 상호 간에 데이터를 주고받기 위해 정의한 규칙이다.
- HTTP는 stateless(상태가 없는) 프로토콜이다. 즉, 이전 데이터 요청과 다음 데이터 요청이 각각이 서로 관련없이 독립적으로 관리된다.

## 📌요청 메소드(Request Method)

### HTTP 요청 메소드

- `GET` : 리소스 조회하기. 리소스를 조회하고 해당 도큐먼트에 대한 자세한 정보를 가져온다.
- `POST` : 리소스 생성하기.
- `PUT` : 리소스 전체 수정하기.
- `DELETE` : 리소스 삭제하기.

### 기타 요청 메소드

- `HEAD` : 리소스의 정보 조회하기.(서버 헤더 정보를 획득) body없이 header부분만 응답 받는다.
- `OPTIONS` : 웹 서버 측이 제공 가능한 메소드에 대한 문의.(서버 옵션들을 확인하기 위한 요청. CORS에서 사용한다.) 서버 측에서 GET, POST, HEAD 등과 같이 허용된 메소드들을 보내준다. ex) Allow: GET, POST, HEAD
- `PATCH` : 리소스 부분적으로 수정하기.

=> PUT으로 요청하였을 경우, 리소스의 전체 항목을 수정하므로 빈 항목들은 빈 상태로 들어가게되지만 patch로 요청하였을 경우 요청된 부분적으로만 수정하므로 다른 항목들의 데이터를 유지할 수 있다.

## 📌HTTP 상태 코드

- 클라이언트의 요청에 대한 서버의 응답 정보이다.
- 넘겨받은 상태 코드를 판별하여 에러처리를 구현한다.
- 200 ~ 500번대까지 다양한 상태코드들이 있다.

### 2xx - 성공

- 200번대의 상태코드는 `성공`을 의미한다.
  - `200` : 요청 메소드에 대한 성공
  - `204` : No content. 성공했으나 응답 본문에 대한 데이터가 없음. -> 서버에서 처리 후 클라이언트에 정보를 보낼 필요가 없는 경우에 사용된다.
  - `206` : Partial content. 성공했으나 일부 범위의 데이터만 반환. -> 범위가 지정된 요청일 경우 해당 범위 만큼의 요청을 받았다는 것을 알려준다.

<br>

### 3xx - 리다이렉션

- 300번대의 상태코드는 대부분 클라이언트가 이전 주소로 데이터를 요청하여 서버에서 새 URL로 리다이렉트를 유도하는 경우이다.
  - `301` : Moved permanently. 요청된 리소스에는 새로운 URI가 저장되어있기 때문에 이후로는 새 URI를 사용해야 한다는 것을 나타냄. -> 영구적인 URI 변경
  - `302` : Found. 301과 마찬가지로 요청된 리소스에는 새로운 URI가 저장되어있기 때문에 이후로는 새 URI를 사용해야 한다는 것을 나타냄. -> 그러나 301과는 다르게 일시적인 URI 변경
  - `303` : See other. 302와 마찬가지로 요청된 리소스에는 새로운 URI가 저장되어있는데 GET 메소드를 사용해서 얻어야힘. -> GET메소드 사용 여부가 302와의 차이점
  - `304` : Not modified. 요청한 리소스가 마지막 요청 이후 변경된 적이 없기 때문에 기존 클라이언트의 로컬 캐시 리소스를 사용하도록 알려줌. 300번대로 분류되어 있지만, 리다이렉션과는 상관없는 처리를 수행한다.
    > 💡캐시(Cache) : 자주 사용하는 데이터나 값을 미리 복사해 놓는 임시 장소.
    >
    > - 로컬 캐시(Local Cache) : 로컬 장비 내에서만 사용되는 캐시로 로컬에서만 작동하기 때문에 속도가 빠르다. 로컬에서만 작동하기 때문에 다른 서버와 데이터 공유가 어렵다.
    > - 글로벌 캐시(Global Cache) : 캐시 서버에 접근하여 사용하는 캐시로 분산된 서버에서 데이터를 저장하고 조회할 수 있다. 네트워크를 통해 데이터를 가져오므로 로컬에 비해 상대적으로 느리다. 별도의 캐시 서버를 사용하기 때문에 서버 간의 데이터 공유가 쉽다.
  - `307` : Temporary redirect. 임시로 페이지를 리다이렉트함.

<br>

### 4xx - 클라이언트 에러

- 400번대의 상태코드는 대부분 클라이언트에서 유효하지 않은 자원 요청이나 권한이 잘못된 경우 발생한다.
  - `400` : Bad request. 클라이언트의 잘못된 요청.
  - `401` : Unauthorized. 권한 없이 요청된 경우. Authorization 헤더가 잘못된 경우이다. 최초 요청에는 인증 다이얼로그 표시하고, 두번째는 인증 실패 응답을 보낸다.
  - `403` : Forbidden. 서버에서 해당 자원에 대한 접근 금지 응답. 관리자 페이지 접근 등을 차단하는 경우이다.(파일 시스템 허가 거부, 허가되지 않은 IP주소를 통한 엑세스의 거부 등) 서버는 엔티티 body에 접근 거부에 대한 이유를 명시하여 보낼 수 있음.
  - `404` : Not found. 자주 접할 수 있는 상태코드로 클라이언트가 요청한 리소스(자원)가 서버에 없음을 나타낸다.
  - `405` : Method Not Allowed. 허용되지 않은 HTTP 메소드를 사용함.

<br>

### 5xx - 서버 에러

- 500번대의 상태코드는 서버 쪽에서 오류가 난 경우이다.
  - `500` : Internal server error. 서버에서 클라이언트 요청 처리 중 에러가 발생함.
  - `503` : Service unavailable. 서버가 일시적으로 요청을 처리할 수 없음. -> 서버 과부하 혹은 점검중
  - `504` : Gateway timeout. 서버를 통하는 gateway에 문제가 발생하여 시간이 초과됨.
    > 💡Gateway : 네트워크 간의 통신을 가능하게 해준다. 즉, 다른 네트워크로 들어가는 입구 역할을 하는 네트워크 포인트이다. 클라이언트와 서버 통신 사이의 중개자로 동작하는 서비스인데, gateway는 자신이 스스로 리소스를 갖고있는 서버처럼 행동하여 클라이언트는 자신이 gateway와 통신하고 있음을 모른다.
  - `505` : HTTP version not supported. 해당 HTTP 버전에서는 지원되지 않는 요청이다.
